generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Rol {
  ADMIN
  DOCENTE
  ESTUDIANTE
}

enum Materia {
  DERECHO_PROCESAL_CIVIL
  DERECHO_DIGITAL_PENAL
  DERECHO_CORPORATIVO_DIGITAL
  CONTRATOS
}

model User {
  id           Int      @id @default(autoincrement())
  nombre       String
  apellidos    String
  correo       String   @unique
  passwordHash String
  telefono     String?
  rol          Rol
  materia      Materia?
  createdAt    DateTime @default(now())

  mustChangePassword    Boolean   @default(false)
  accessEmailCount      Int       @default(0)
  lastAccessEmailAt     DateTime?
  tempPasswordExpiresAt DateTime?
}
